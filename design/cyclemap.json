{
  "version": 8,
  "name": "Mapbox Local",
  "metadata": {},
  "sources": {
    "global": {
      "type": "vector",
      "tiles": [
        "http://localhost:8080/maps/global/{z}/{x}/{y}.pbf"
      ]
    },
    "local": {
      "type": "vector",
      "tiles": [
        "http://localhost:8080/maps/local/{z}/{x}/{y}.pbf?debug=true"
      ]
    },
    "mapbox-terrain-rgb": {
      "type": "raster-dem",
      "url": "mapbox://mapbox.terrain-rgb"
    },
    "contour-lines": {
      "type": "vector",
      "url": "mapbox://mapbox.mapbox-terrain-v2"
      }    
  },
  "sprite": "http://localhost:8081/sprites/cyclemap",
  "glyphs": "mapbox://fonts/mapbox/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "#f6f4e7"
      }
    },
    {
      "id": "water-ocean",
      "type": "fill",
      "source": "global",
      "source-layer": "water",
      "paint": {
        "fill-color": "#7babcd",
        "fill-opacity-transition": {
          "duration": 2000
        },
        "fill-outline-color": "rgba(192,0,0,0)"
      }
    },
    {
      "id": "landuse-residential",
      "type": "fill",
      "source": "local",
      "source-layer": "landuse",
      "minzoom": 10,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], ["commercial", "retail", "residential"], true, false],
      "layout": {
        "visibility": "visible"
      },
      "paint": {
        "fill-color": {
          "stops": [
            [
              14,
              "rgba(204, 204, 204, 1)"
            ],
            [
              15,
              "rgba(225, 224, 218, 1)"
            ]
          ]
        },
        "fill-outline-color": {
          "stops": [
            [14, "rgba(204, 204, 204, 1)"],
            [15, "rgba(225, 224, 218, 1)"]
          ]
        }
      }
    },
    {
      "id": "landuse-industrial",
      "type": "fill",
      "source": "local",
      "source-layer": "landuse",
      "minzoom": 10,
      "maxzoom": 24,
      "filter": [
        "all",
        [
          "in",
          "subclass",
          "industrial",
          "aerodrome"
        ]
      ],
      "layout": {
        "visibility": "visible"
      },
      "paint": {
        "fill-color": "rgba(212, 189, 182, 1)",
        "fill-outline-color": "rgba(212, 189, 182, 1)"
      }
    },
    {
      "id": "landuse-grassland",
      "type": "fill",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 10,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], ["grass", "park", "playground", "pitch", "golf_course", "recreation_ground", "cemetery"], true, false],
      "paint": {
        "fill-color": "rgba(222, 233, 186, 1)",
        "fill-outline-color": "rgba(0, 0, 0, 0)"
      }
    },
    {
      "id": "landuse-forest",
      "type": "fill",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": [
        "all",
        [
          "in",
          "subclass",
          "wood",
          "scrub",
          "forest"
        ]
      ],
      "paint": {
        "fill-color": "rgba(176, 208, 144, 1)",
        "fill-outline-color": "rgba(0, 0, 0, 0)"
      }
    },
    {
      "id": "landuse-beach",
      "type": "fill",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 11,
      "maxzoom": 24,
      "filter": [
        "all",
        [
          "in",
          "subclass",
          "beach"
        ],
        [
          "in",
          "surface",
          "sand",
          ""
        ]
      ],
      "paint": {
        "fill-color": "#ffe88b",
        "fill-outline-color": "rgba(0, 0, 0, 0)"
      }
    },
    {
      "id": "water-way",
      "type": "line",
      "source": "local",
      "source-layer": "waterway",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": [
        "any",
        ["all",
          [">=", ["zoom"], 14],
          ["match", ["get", "subclass"], ["river", "canal", "stream", "ditch"], true, false],
          ["!=", ["get", "tunnel"], true]
        ],
        ["all",
          [">=", ["zoom"], 12],
          ["<", ["zoom"], 14],
          ["match", ["get", "subclass"], ["river", "canal", "stream"], true, false],
          ["!=", ["get", "tunnel"], true]
        ],
        ["all",
          [">=", ["zoom"], 7],
          ["<", ["zoom"], 12],
          ["match", ["get", "subclass"], ["river", "canal"], true, false],
          ["!=", ["get", "tunnel"], true]
        ]

      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": "rgba(31, 131, 188, 1)",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          7, ["match", ["get", "subclass"], "river", 1, "canal", 1, 1],
          9, ["match", ["get", "subclass"], "river", 2, "canal", 2, 1],
          12, ["match", ["get", "subclass"], "river", 3, "canal", 3, "stream", 1, 1],
          14, ["match", ["get", "subclass"], "river", 5, "canal", 5, "stream", 3, "ditch", 2, 1],
          20, ["match", ["get", "subclass"], "river", 50, "canal", 50, "stream", 30, "ditch", 10, 1]
        ]
      }
    },
    {
      "id": "water-area",
      "type": "fill",
      "source": "local",
      "source-layer": "waterarea",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": [
        "all"
      ],
      "layout": {},
      "paint": {
        "fill-color": "rgba(123, 171, 205, 1)",
        "fill-outline-color": "rgba(31, 131, 188, 1)"
      }
    },
    {
      "id": "landuse-swamp-fill",
      "type": "fill",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], "wetland", true, false],
      "layout": {},
      "paint": {
        "fill-opacity": 0.2,
        "fill-color": "rgba(51, 153, 102, 1)",
        "fill-outline-color": "rgba(0, 0, 0, 0)"
      }
    },
    {
      "id": "landuse-swamp-pattern",
      "type": "fill",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], "wetland", true, false],
      "layout": {},
      "paint": {
        "fill-opacity": 0.6,
        "fill-pattern": "wetland"
      }
    },
    {
      "id": "landuse-glacier-fill",
      "type": "fill",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], "glacier", true, false],
      "layout": {},
      "paint": {
        "fill-opacity": 0.5,
        "fill-color": "rgba(255, 255, 255, 1)",
        "fill-outline-color": "rgba(0, 0, 0, 0)"
      }
    },
    {
      "id": "landuse-glacier-outline",
      "type": "line",
      "source": "local",
      "source-layer": "landcover",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], "glacier", true, false],
      "layout": {},
      "paint": {
        "line-opacity": 0.5,
        "line-color": "rgba(173, 216, 230, 1)",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          10, 2,
          16, 10
        ]
      }
    },
    {
      "id": "landuse-military-pattern",
      "type": "fill",
      "source": "local",
      "source-layer": "landuse",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": [
        "all",
          ["match", ["get", "subclass"], "military", true, false]
      ],
      "layout": {},
      "paint": {
        "fill-opacity": 0.2,
        "fill-pattern": "stripes",
        "fill-outline-color": "rgba(255, 0, 0, 1)"
      }
    },
    {
      "FIXME": "Add additional thick translucent line",
      "id": "landuse-nature_reserve-outline-thin",
      "type": "line",
      "source": "local",
      "source-layer": "landuse",
      "minzoom": 7,
      "maxzoom": 24,
      "filter": ["match", ["get", "subclass"], "nature_reserve", true, false],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-blur": 1,
        "line-opacity": 0.6,
        "line-color": "rgba(32, 128, 32, 1)",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          10, 6,
          16, 10
        ]
      }
    },
    {
      "id": "admin",
      "type": "line",
      "source": "global",
      "source-layer": "admin",
      "minzoom": 2,
      "filter": ["==", ["get", "maritime"], false],
      "layout": {        
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": "#c193b9",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          2, 1,
          6, ["case",
            ["==", ["get", "admin_level"], 2], 2,
            ["==", ["get", "admin_level"], 4], 1,
            1
          ],
          10, ["case",
            ["==", ["get", "admin_level"], 2], 3,
            ["==", ["get", "admin_level"], 4], 2,
            1
          ],
          14, ["case",
            ["==", ["get", "admin_level"], 2], 7,
            ["==", ["get", "admin_level"], 4], 5,
            3
          ]
        ]
      }
    },    
    {
      "id": "hillshading",
      "source": "mapbox-terrain-rgb",
      "type": "hillshade",
      "maxzoom": 15,
      "layout": {
        "visibility": "visible"
      },      
      "paint": {
        "hillshade-illumination-direction": 315,
        "hillshade-exaggeration": 0.4,
        "hillshade-shadow-color": {
          "stops": [
            [14, "rgba(0, 0, 0, 1)"],
            [15, "rgba(0, 0, 0, 0)"]
          ]
        },
        "hillshade-highlight-color": "rgba(255, 255, 255, 0)",
        "hillshade-accent-color": "rgba(0, 0, 0, .5)"
      }
    },
    {
      "id": "contour-lines",
      "type": "line",
      "source": "contour-lines",
      "source-layer": "contour",
      "minzoom": 13,
      "filter": ["any",
        ["all",
          ["<", ["zoom"], 15],
          ["match", ["get", "index"], [5, 10], true, false]
        ],
        ["all",
          [">=", ["zoom"], 15],
          ["<", ["zoom"], 16],
          ["match", ["get", "index"], [2, 10], true, false]
        ],
        [">=", ["zoom"], 16]
      ],

      "paint": {
        "line-color": "rgba(127, 51, 0, 0.25)",
        "line-width": 1
      }      
    },       
    {
      "id": "weir",
      "type": "line",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["geometry-type"], "LineString"],
        ["==", ["get", "polygon"], false],
        ["==", ["get", "subclass"], "weir"]
      ],
      "layout": {},
      "paint": {
        "line-dasharray": [0.25, 0.25],        
        "line-opacity": 0.5,
        "line-color": "rgba(0, 0, 0, 1)",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 8,
          18, 40
        ]
      }
    },    
    {
      "id": "pier-way",
      "type": "line",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["geometry-type"], "LineString"],
        ["==", ["get", "polygon"], false],
        ["==", ["get", "subclass"], "pier"]
      ],
      "layout": {        
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": "#f6f4e7",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 1.2,
          20, 40
        ]
      }
    },    
    {
      "id": "pier-area",
      "type": "fill",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["geometry-type"], "Polygon"],
        ["match", ["get", "subclass"], "pier", true, false]
      ],
      "layout": {},
      "paint": {
        "fill-color": "#f6f4e7"
      }
    },    
    {
      "id": "piste",
      "type": "line",
      "source": "local",
      "source-layer": "piste",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": [">", ["get", "difficulty"], 0],
      "layout": {        
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["match", ["get", "difficulty"], [1, 2], true, false], "rgba(0, 0, 255, 0.5)",
          ["match", ["get", "difficulty"], [3], true, false], "rgba(255, 0, 0, 0.5)", 
          "rgba(0, 0, 0, 0.5)"
        ],
        "line-width": [
          "interpolate", ["exponential", 1.2], ["zoom"],
          14, 2,
          18, 22
        ]
      }
    },    
    {
      "id": "fence",
      "type": "line",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["geometry-type"], "LineString"],
        ["==", ["get", "subclass"], "fence"],
        ["any",
          ["all",
            [">=", ["zoom"], 14],
            ["<", ["zoom"], 16],
            [">", ["get", "length"], 400]
          ],
          ["all",
            [">=", ["zoom"], 16],
            ["<", ["zoom"], 18],
            [">", ["get", "length"], 100]
          ],
          ["all",
            [">=", ["zoom"], 18],
            [">", ["get", "length"], 10]
          ]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": "#444",
        "line-dasharray": [3, 2, 0.1, 2],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          14, 1.5,
          18, 6
        ]
      }
    },    
    {
      "id": "shiproute",
      "type": "line",
      "source": "local",
      "source-layer": "transportation",
      "minzoom": 10,
      "maxzoom": 24,
      "filter": ["==", ["get", "subclass"], "ferry"],
      "layout": {},
      "paint": {
        "line-dasharray": [4, 4],
        "line-color": "rgba(17, 17, 170, 1)",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          10, 1,
          18, 16
        ]
      }
    },    

    {
      "id": "roads-tunnel-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 5,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "bridge"], true],
        ["==", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round"
      },
      "paint": {
        "line-dasharray": [0.5, 0.5],
        "line-color": 
        ["step", ["zoom"],
        ["case",
          ["match", ["get", "subclass"], ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "service"], true, false], 
          "#808080",
          "#000"
        ],
        15, "#000"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 6, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 5,
              ["motorway_link"], 4, 
            1],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 11, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 8,
              ["motorway_link"], 6, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "service"], 1.8, 
            1],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["motorway_link"], 7, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "service"], 6, 
            1],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 20, 
              ["motorway_link"], 12, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 15, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 10, 
              ["service"], 6, 
            1],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 166, 
              ["motorway_link"], 86, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 126,
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 86, 
              ["service"], 46, 
            1]

        ]
      }
    },    
    {
      "id": "roads-tunnel",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 6,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "bridge"], true],
        ["==", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["match", ["get", "subclass"], ["motorway", "trunk", "motorway_link", "trunk_link"], true, false], "#ee9900",
          ["match", ["get", "subclass"], ["primary", "primary_link"], true, false], "#ffcc99", 
          ["match", ["get", "subclass"], ["secondary", "secondary_link"], true, false], "#ffff99", 
          "#fff"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 4, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 3,
              ["motorway_link"], 2, 
            0],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 8, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 6,
              ["motorway_link"], 3, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "service"], -6, 
            0],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 12, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 9,
              ["motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 3, 
              ["service"], 4, 
            0],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 8, 
              ["service"], 4, 
            0],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 160, 
              ["primary", "primary_link", "trunk_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 120,
              ["motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 80, 
              ["service"], 40, 
            0]
        ]
      }
    },    
    {
      "id": "railway-service-tunnel",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 15,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "service"], ""],
        ["!=", ["get", "bridge"], true],
        ["==", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [4, 4],
        "line-color": "#888",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          15, 3,
          18, 6
        ]
      }
    },    
    {
      "id": "railway-tunnel",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 9,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "service"], ""],
        ["!=", ["get", "bridge"], true],
        ["==", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-dasharray": [1, 2],
        "line-color": 
          [
          "interpolate", ["linear"], ["zoom"],
          12, "#666",
          13, "#444"
          ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          9, 1,
          13, 7,
          18, 14
        ]
      }
    },    

    {
      "id": "buildings-large",
      "type": "fill",
      "source": "local",
      "source-layer": "buildings-large",
      "minzoom": 13,
      "maxzoom": 15,
      "filter": [
        "all"
      ],
      "paint": {
        "fill-color": "#444",
        "fill-opacity": {
          "base": 1,
          "stops": [
            [13, 0.1],
            [14, 1]
          ]
        },
        "fill-outline-color": {
          "stops": [
            [13, "rgba(204, 204, 204, 1)"],
            [14, "rgba(68, 68, 68, 1)"]
          ]
        }
      }
    },
    {
      "id": "buildings",
      "type": "fill",
      "source": "local",
      "source-layer": "buildings",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": [
        "all"
      ],
      "paint": {
        "fill-color": "#444",
        "fill-opacity": {
          "base": 1,
          "stops": [
            [14, 0.1],
            [15, 1]
          ]
        },
        "fill-outline-color": {
          "stops": [
            [14, "rgba(204, 204, 204, 1)"],
            [15, "rgba(68, 68, 68, 1)"],
            [16, "rgba(68, 68, 68, 1)"],
            [17, "rgba(102, 102, 102, 1)"]
          ]
        }
      }
    },
    {
      "id": "housenumbers",
      "type": "symbol",
      "source": "local",
      "source-layer": "housenumbers",
      "minzoom": 18,
      "maxzoom": 24,
      "layout": {
        "text-field": "{number}",
        "text-size": 16,
        "text-letter-spacing": 0.1
      },
      "paint": {
        "text-color": "#fff",
        "text-halo-color": "#444",
        "text-halo-width": 3,
        "text-halo-blur": 0
      }
    },    
    {
      "id": "aeroway-casing",
      "type": "line",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 10,
      "maxzoom": 24,
      "filter": [
        "any",
        ["all",
          [">=", ["zoom"], 14],
          ["match", ["get", "subclass"], ["runway", "taxiway"], true, false]
        ],
        ["all",
          [">=", ["zoom"], 13],
          ["<", ["zoom"], 14],
          ["match", ["get", "subclass"], ["runway", "taxiway"], true, false],
          [">", ["get", "length"], 500]
        ],
        ["all",
          [">=", ["zoom"], 12],
          ["<", ["zoom"], 13],
          ["match", ["get", "subclass"], ["runway", "taxiway"], true, false],
          [">", ["get", "length"], 1000]
        ],
        ["all",
          [">=", ["zoom"], 10],
          ["<", ["zoom"], 12],
          ["==", ["get", "subclass"], "runway"],
          [">", ["get", "length"], 2000]
        ]
      ],
      "paint": { 
        "line-color": "#666",
        "line-width": [
          "interpolate", ["exponential", 1.6], ["zoom"],
          10, ["match", ["get", "subclass"], 
              ["runway"], 6, 
              ["taxiway"], -5, 
            1],
          13, ["match", ["get", "subclass"], 
              ["runway"], 17, 
              ["taxiway"], 7, 
            1],
          16, ["match", ["get", "subclass"], 
            ["runway"], 60, 
            ["taxiway"], 20, 
            1]
      ]
      }
    },    
    {
      "id": "aeroway-stripes",
      "type": "line",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 10,
      "maxzoom": 24,
      "filter": [
        "any",
        ["all",
          [">=", ["zoom"], 14],
          ["==", ["get", "subclass"], "runway"]
        ],
        ["all",
          [">=", ["zoom"], 13],
          ["<", ["zoom"], 14],
          ["==", ["get", "subclass"], "runway"],
          [">", ["get", "length"], 500]
        ],
        ["all",
          [">=", ["zoom"], 12],
          ["<", ["zoom"], 13],
          ["==", ["get", "subclass"], "runway"],
          [">", ["get", "length"], 1000]
        ],
        ["all",
          [">=", ["zoom"], 10],
          ["<", ["zoom"], 12],
          ["==", ["get", "subclass"], "runway"],
          [">", ["get", "length"], 2000]
        ]
      ],
      "paint": { 
        "line-color": "#fff",
        "line-dasharray": [4, 4],        
        "line-width": [
          "interpolate", ["exponential", 1.6], ["zoom"],
          10, 1.5,
          14, 5,
          16, 10
        ]
      }
    },    
    {
      "id": "paths-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["match", ["get", "subclass"], ["path", "footway", "steps", "bridleway"], true, false],
        ["!=", ["get", "tracktype"], 1],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["==", ["get", "bicycle"], 1], "rgba(255, 0, 0, 0.2)",
          ["==", ["get", "bicycle"], 2], "rgba(0, 128, 0, 0.2)",
          "rgba(255, 255, 255, 0.4)"
        ],
        "line-width": 8
      }
    },    
    {
      "id": "paths",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 13,
      "maxzoom": 24,
      "filter": ["all",
        ["match", ["get", "subclass"], ["path", "footway", "steps", "bridleway"], true, false],
        ["!=", ["get", "tracktype"], 1],
        ["<=", ["get", "bicycle"], 2],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        [
          "interpolate", ["linear"], ["zoom"],
          13, "#444",
          14, "#000"
          ],        
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 1.2,
          15, 3
        ]
      }
    },    
    {
      "id": "roads-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 5,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["step", ["zoom"],
        ["case",
          ["match", ["get", "subclass"], ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], true, false], 
          "#808080",
          "#000"
        ],
        15, "#000"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 6, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 5,
              ["motorway_link", "trunk_link"], 4, 
            1],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 11, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 8,
              ["motorway_link", "trunk_link"], 6, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], 1.8, 
            1],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["motorway_link", "trunk_link"], 7, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], 6, 
            1],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 20, 
              ["motorway_link", "trunk_link"], 12, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 15, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 10, 
              ["service", "path", "cycleway"], 6, 
            1],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 166, 
              ["motorway_link", "trunk_link"], 86, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 126,
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 86, 
              ["service", "path", "cycleway"], 46, 
            1]

        ]
      }
    },    
    {
      "id": "roads",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 6,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["all", ["match", ["get", "subclass"], ["motorway", "trunk", "motorway_link"], true, false], ["==", ["get", "oneway"], true]], "#ee9900",
          ["match", ["get", "subclass"], ["trunk", "trunk_link", "primary", "primary_link"], true, false], "#ffcc99", 
          ["match", ["get", "subclass"], ["secondary", "secondary_link"], true, false], "#ffff99", 
          "#fff"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 4, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 3,
              ["motorway_link", "trunk_link"], 2, 
            0],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 8, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 6,
              ["motorway_link", "trunk_link"], 3, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], -6, 
            0],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 12, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 9,
              ["motorway_link", "trunk_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 3, 
              ["service", "path", "cycleway"], 4, 
            0],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["motorway_link", "trunk_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 8, 
              ["service", "path", "cycleway"], 4, 
            0],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 160, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 120,
              ["motorway_link", "trunk_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 80, 
              ["service", "path", "cycleway"], 40, 
            0]
        ]
      }
    },    
    {
      "id": "railway-service-casing",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 15,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "service"], ""],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "paint": { 
        "line-color": "#888",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          15, 5,
          18, 12
        ]
      }
    },    
    {
      "id": "railway-service-line",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 15,
      "maxzoom": 24,
      "filter": ["all",
        ["!=", ["get", "service"], ""],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [4, 4],
        "line-color": "#fff",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          15, 3,
          18, 6
        ]
      }
    },    
    {
      "id": "railway-casing",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 9,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "service"], ""],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "paint": { 
        "line-color": 
          [
          "interpolate", ["linear"], ["zoom"],
          12, "#666",
          13, "#444"
          ]
        ,
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          9, 1,
          13, 7,
          18, 14
        ]
      }
    },    
    {
      "id": "railway-line",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 13,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "service"], ""],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [5, 5],
        "line-color": "#fff",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 4,
          18, 8
        ]
      }
    },    
    {
      "id": "tracks-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "subclass"], "track"],
        ["!=", ["get", "tracktype"], 1],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["==", ["get", "bicycle"], 1], "rgba(255, 0, 0, 0.2)",
          ["==", ["get", "bicycle"], 2], "rgba(0, 128, 0, 0.2)",
          "rgba(255, 255, 255, 0.4)"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          15, 8,
          20, 40
        ]
      }
    },    
    {
      "FIXME": "see https://github.com/mapbox/mapbox-gl-js/issues/3045",
      "id": "tracks-bad",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 12,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "subclass"], "track"],
        [">=", ["get", "tracktype"], 4],
        ["<=", ["get", "bicycle"], 2],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [1, 1.5],
        "line-color": 
        ["step", ["zoom"],
          "#753701",
          14, "#885b03"
        ],
        "line-width": [
          "interpolate", ["exponential", 1.4], ["zoom"],
          12, 1.2,
          20, 15
        ]
      }
    },    
    {
      "FIXME": "see https://github.com/mapbox/mapbox-gl-js/issues/3045",
      "id": "tracks",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 12,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "subclass"], "track"],
        ["!=", ["get", "tracktype"], 1],
        ["<=", ["get", "tracktype"], 3],
        ["<=", ["get", "bicycle"], 2],
        ["!=", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [4, 2],
        "line-color": 
        ["step", ["zoom"],
          "#753701",
          14, "#885b03"
        ],
        "line-width": [
          "interpolate", ["exponential", 1.4], ["zoom"],
          12, 1.2,
          20, 15
        ]
      }
    },    
    {
      "id": "paths-bridge-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["match", ["get", "subclass"], ["path", "footway", "steps", "bridleway"], true, false],
        ["!=", ["get", "tracktype"], 1],
        ["<=", ["get", "bicycle"], 2],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["==", ["get", "bicycle"], 1], "rgba(255, 0, 0, 0.2)",
          ["==", ["get", "bicycle"], 2], "rgba(0, 128, 0, 0.2)",
          "rgba(255, 255, 255, 0.4)"
        ],
        "line-width": 8
      }
    },    
    {
      "id": "paths-bridge",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 13,
      "maxzoom": 24,
      "filter": ["all",
        ["match", ["get", "subclass"], ["path", "footway", "steps", "bridleway"], true, false],
        ["!=", ["get", "tracktype"], 1],
        ["<=", ["get", "bicycle"], 2],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        [
          "interpolate", ["linear"], ["zoom"],
          13, "#444",
          14, "#000"
          ],        
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 1.2,
          15, 3
        ]
      }
    },    
    {
      "id": "roads-bridge-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 5,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "bridge"], true],
        ["<=", ["get", "layer"], 1],
        ["!=", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round"
      },
      "paint": {
        "line-color": 
        ["step", ["zoom"],
        ["case",
          ["match", ["get", "subclass"], ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], true, false], 
          "#808080",
          "#000"
        ],
        15, "#000"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 6, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 5,
              ["trunk_link", "motorway_link"], 4, 
            1],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 11, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 8,
              ["trunk_link", "motorway_link"], 6, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], 1.8, 
            1],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["trunk_link", "motorway_link"], 7, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], 6, 
            1],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 20, 
              ["trunk_link", "motorway_link"], 12, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 15, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 10, 
              ["service", "path", "cycleway"], 6, 
            1],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 166, 
              ["trunk_link", "motorway_link"], 86, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 126,
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 86, 
              ["service", "path", "cycleway"], 46, 
            1]

        ]
      }
    },    
    {
      "id": "roads-bridge",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 6,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "bridge"], true],
        ["<=", ["get", "layer"], 1],
        ["!=", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["all", ["match", ["get", "subclass"], ["motorway", "trunk", "motorway_link"], true, false], ["==", ["get", "oneway"], true]], "#ee9900",
          ["match", ["get", "subclass"], ["trunk", "trunk_link", "primary", "primary_link"], true, false], "#ffcc99", 
          ["match", ["get", "subclass"], ["secondary", "secondary_link"], true, false], "#ffff99", 
          "#fff"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 4, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 3,
              ["trunk_link", "motorway_link"], 2, 
            0],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 8, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 6,
              ["trunk_link", "motorway_link"], 3, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], -6, 
            0],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 12, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 9,
              ["trunk_link", "motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 3, 
              ["service", "path", "cycleway"], 4, 
            0],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["trunk_link", "motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 8, 
              ["service", "path", "cycleway"], 4, 
            0],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 160, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 120,
              ["trunk_link", "motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 80, 
              ["service", "path", "cycleway"], 40, 
            0]
        ]
      }
    },    
    {
      "id": "tracks-bridge-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "subclass"], "track"],
        ["!=", ["get", "tracktype"], 1],
        ["!=", ["get", "subclass"], "cycleway"],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
        "line-join": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["==", ["get", "bicycle"], 1], "rgba(255, 0, 0, 0.2)",
          ["==", ["get", "bicycle"], 2], "rgba(0, 128, 0, 0.2)",
          "rgba(255, 255, 255, 0.4)"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          15, 8,
          20, 40
        ]
      }
    },    
    {
      "FIXME": "see https://github.com/mapbox/mapbox-gl-js/issues/3045",
      "id": "tracks-bridge",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 12,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "subclass"], "track"],
        ["!=", ["get", "tracktype"], 1],
        ["<=", ["get", "bicycle"], 2],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [4, 2],
        "line-color": 
        ["step", ["zoom"],
          "#753701",
          14, "#885b03"
        ],
        "line-width": [
          "interpolate", ["exponential", 1.4], ["zoom"],
          12, 1.2,
          20, 15
        ]
      }
    },   
    {
      "id": "railway-casing-bridge",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 9,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "service"], ""],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "paint": { 
        "line-color": 
          [
          "interpolate", ["linear"], ["zoom"],
          12, "#666",
          13, "#444"
          ]
        ,
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          9, 1,
          13, 7,
          18, 14
        ]
      }
    },    
    {
      "id": "railway-line-bridge",
      "type": "line",
      "source": "local",
      "source-layer": "railway",
      "minzoom": 13,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "service"], ""],
        ["==", ["get", "bridge"], true],
        ["!=", ["get", "tunnel"], true]
      ],
      "layout": {
      },
      "paint": {
        "line-dasharray": [5, 5],
        "line-color": "#fff",
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 4,
          18, 8
        ]
      }
    },    
    {
      "id": "roads-bridge-layer2-casing",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 5,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "bridge"], true],
        [">=", ["get", "layer"], 2],
        ["!=", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round"
      },
      "paint": {
        "line-color": 
        ["step", ["zoom"],
        ["case",
          ["match", ["get", "subclass"], ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], true, false], 
          "#808080",
          "#000"
        ],
        15, "#000"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 6, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 5,
              ["trunk_link", "motorway_link"], 4, 
            1],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 11, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 8,
              ["trunk_link", "motorway_link"], 6, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], 1.8, 
            1],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["trunk_link", "motorway_link"], 7, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], 6, 
            1],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 20, 
              ["trunk_link", "motorway_link"], 12, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 15, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 10, 
              ["service", "path", "cycleway"], 6, 
            1],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 166, 
              ["trunk_link", "motorway_link"], 86, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 126,
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track"], 86, 
              ["service", "path", "cycleway"], 46, 
            1]

        ]
      }
    },    
    {
      "id": "roads-bridge-layer2",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 6,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["get", "bridge"], true],
        [">=", ["get", "layer"], 2],
        ["!=", ["get", "tunnel"], true],
        ["any",
          ["==", ["get", "tracktype"], 1],
          ["match", ["get", "subclass"], 
            ["motorway", "motorway_link", "trunk", "trunk_link", "primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link", "road", "unclassified", "residential", "pedestrian", "living_street", "service"], true, false]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-color": 
        ["case",
          ["all", ["match", ["get", "subclass"], ["motorway", "trunk", "motorway_link"], true, false], ["==", ["get", "oneway"], true]], "#ee9900",
          ["match", ["get", "subclass"], ["trunk", "trunk_link", "primary", "primary_link"], true, false], "#ffcc99", 
          ["match", ["get", "subclass"], ["secondary", "secondary_link"], true, false], "#ffff99", 
          "#fff"
        ],
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          8, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 4, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 3,
              ["trunk_link", "motorway_link"], 2, 
            0],
          12, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 8, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 6,
              ["trunk_link", "motorway_link"], 3, 
              ["road", "unclassified", "residential", "pedestrian", "living_street", "track", "path", "service", "cycleway"], -6, 
            0],
          14, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 12, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 9,
              ["trunk_link", "motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 3, 
              ["service", "path", "cycleway"], 4, 
            0],
          15, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 16, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 12,
              ["trunk_link", "motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 8, 
              ["service", "path", "cycleway"], 4, 
            0],
          20, 
            ["match", ["get", "subclass"], 
              ["motorway", "trunk"], 160, 
              ["primary", "primary_link", "secondary", "secondary_link", "tertiary", "tertiary_link"], 120,
              ["trunk_link", "motorway_link", "road", "unclassified", "residential", "pedestrian", "living_street", "track"], 80, 
              ["service", "path", "cycleway"], 40, 
            0]
        ]
      }
    },      
    {
      "id": "cycleways",
      "type": "line",
      "source": "local",
      "source-layer": "roads",
      "minzoom": 12,
      "maxzoom": 24,
      "filter": ["all",
        ["any",
          ["==", ["get", "subclass"], "cycleway"],
          ["==", ["get", "bicycle"], 3]
        ]
      ],
      "layout": {
        "line-join": "round",
        "line-cap": "round"
      },
      "paint": {
        "line-dasharray": [3, 3],
        "line-color": "#0000ff",
        "line-width": [
          "interpolate", ["exponential", 1.4], ["zoom"],
          12, 1.2,
          20, 20
        ]
      }
    },    
    {
      "id": "aerialway",
      "type": "line",
      "source": "local",
      "source-layer": "transportation",
      "minzoom": 12,
      "maxzoom": 24,
      "filter": ["any",
        ["all",
          ["<", ["zoom"], 14],
          ["match", ["get", "subclass"], ["cable_car", "chairlift", "gondola", "chair_lift", "mixed_lift", "funicular"], true, false]
        ],
        ["all",
          [">=", ["zoom"], 14],
          ["match", ["get", "subclass"], ["cable_car", "chairlift", "gondola", "chair_lift", "mixed_lift", "funicular", "summer_toboggan", "goods"], true, false]
        ]          
      ],
      "layout": {},
      "paint": {
        "line-dasharray": [3.5, 2],        
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          12, 2,
          14, ["match", ["get", "subclass"], 
                ["summer_toboggan", "goods"], 2, 
              4],
          16, ["match", ["get", "subclass"], 
                ["summer_toboggan", "goods"], 2, 
              8]
        ]
      }
    },    
    {
      "id": "power-tower",
      "type": "circle",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["geometry-type"], "Point"],
        ["==", ["get", "class"], "power"]
      ],
      "paint": {
        "circle-radius": 3.5
      }
    },    
    {
      "id": "power-line",
      "type": "line",
      "source": "local",
      "source-layer": "manmade",
      "minzoom": 14,
      "maxzoom": 24,
      "filter": ["all",
        ["==", ["geometry-type"], "LineString"],
        ["==", ["get", "class"], "power"]
      ],
      "layout": {},
      "paint": {
        "line-width": [
          "interpolate", ["exponential", 2], ["zoom"],
          13, 1,
          18, 4
        ]
      }
    },    
   {
      "id": "debug-tile-outline",
      "type": "line",
      "source": "local",
      "source-layer": "debug-tile-outline",
      "layout": {
        "visibility": "visible"
      },
      "paint": {
        "line-color": "rgba(255, 0, 0, 0.2)"
      }
    },
    {
      "id": "debug-tile-center",
      "type": "symbol",
      "source": "local",
      "source-layer": "debug-tile-center",
      "minzoom": 0,
      "maxzoom": 24,
      "filter": [
        "all"
      ],
      "paint": {"text-color": "#ff0000"},
      "layout": {
        "visibility": "none",
        "text-field": "{zxy}"
      }
    }       
  ],
  "id": "cndhwdkjr"
}